{"ast":null,"code":"var _jsxFileName = \"/home/igorf/Documentos/projetos-pessoais/projeto-web/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './style/App.css';\nimport TelaInicial from \"./components/TelaInicial\";\nimport Home from './components/Home';\n\nclass App extends Component {\n  componentDidMount() {\n    this.callApi().then(res => this.setState({\n      response: res.express\n    })).catch(err => console.log(err));\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: ''\n    };\n\n    this.callApi = async () => {\n      const response = await fetch('/api/mensagem');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    this.state = {\n      rota: 'TelaInicial',\n      token: ''\n    };\n    this.entrou = this.entrou.bind(this);\n    this.saiu = this.saiu.bind(this);\n    this.state.token = localStorage.getItem('token');\n  }\n\n  changeRota(val) {\n    this.setState({\n      rota: val\n    });\n  }\n\n  entrou(val) {\n    localStorage.setItem('token', val.token);\n    this.setState({\n      usuario: val\n    });\n    this.changeRota('Home');\n  }\n\n  saiu(val) {\n    this.setState({\n      token: ''\n    });\n    localStorage.setItem('token', '');\n    this.changeRota('TelaInicial');\n  }\n\n  render() {\n    if (this.state.rota === 'Home' || this.state.token) {\n      return /*#__PURE__*/React.createElement(Home, {\n        onSair: event => this.saiu(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      });\n    } else if (this.state.rota === 'TelaInicial') {\n      return /*#__PURE__*/React.createElement(TelaInicial, {\n        onEntrou: event => this.entrou(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      });\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/igorf/Documentos/projetos-pessoais/projeto-web/client/src/App.js"],"names":["React","Component","TelaInicial","Home","App","componentDidMount","callApi","then","res","setState","response","express","catch","err","console","log","constructor","props","state","fetch","body","json","status","Error","message","rota","token","entrou","bind","saiu","localStorage","getItem","changeRota","val","setItem","usuario","render","event"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAEA,MAAMC,GAAN,SAAkBH,SAAlB,CAA2B;AAMvBI,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,OAAL,GACKC,IADL,CACUC,GAAG,IAAI,KAAKC,QAAL,CAAc;AAAEC,MAAAA,QAAQ,EAAEF,GAAG,CAACG;AAAhB,KAAd,CADjB,EAEKC,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGH;;AAUDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAlBnBC,KAkBmB,GAlBX;AACJR,MAAAA,QAAQ,EAAE;AADN,KAkBW;;AAAA,SARnBJ,OAQmB,GART,YAAY;AAClB,YAAMI,QAAQ,GAAG,MAAMS,KAAK,CAAC,eAAD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAnB;AACA,UAAIX,QAAQ,CAACY,MAAT,KAAoB,GAAxB,EAA6B,MAAMC,KAAK,CAACH,IAAI,CAACI,OAAN,CAAX;AAE7B,aAAOJ,IAAP;AACH,KAEkB;;AAGf,SAAKF,KAAL,GAAa;AACTO,MAAAA,IAAI,EAAE,aADG;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAIA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUD,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKV,KAAL,CAAWQ,KAAX,GAAmBI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAnB;AACH;;AAEDC,EAAAA,UAAU,CAAEC,GAAF,EAAO;AACb,SAAKxB,QAAL,CAAc;AAACgB,MAAAA,IAAI,EAACQ;AAAN,KAAd;AACH;;AAEDN,EAAAA,MAAM,CAAEM,GAAF,EAAO;AACTH,IAAAA,YAAY,CAACI,OAAb,CAAqB,OAArB,EAA8BD,GAAG,CAACP,KAAlC;AACA,SAAKjB,QAAL,CAAc;AAAC0B,MAAAA,OAAO,EAACF;AAAT,KAAd;AACA,SAAKD,UAAL,CAAgB,MAAhB;AACH;;AAEDH,EAAAA,IAAI,CAAEI,GAAF,EAAO;AACP,SAAKxB,QAAL,CAAc;AAACiB,MAAAA,KAAK,EAAC;AAAP,KAAd;AACAI,IAAAA,YAAY,CAACI,OAAb,CAAqB,OAArB,EAA8B,EAA9B;AACA,SAAKF,UAAL,CAAgB,aAAhB;AACH;;AAEDI,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKlB,KAAL,CAAWO,IAAX,KAAoB,MAApB,IAA8B,KAAKP,KAAL,CAAWQ,KAA7C,EAAoD;AAChD,0BACI,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAGW,KAAD,IAAW,KAAKR,IAAL,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH,KAJD,MAIO,IAAI,KAAKX,KAAL,CAAWO,IAAX,KAAoB,aAAxB,EAAuC;AAC1C,0BACI,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAGY,KAAD,IAAW,KAAKV,MAAL,CAAYU,KAAZ,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;AACJ;;AA1DsB;;AA6D3B,eAAejC,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './style/App.css';\nimport TelaInicial from \"./components/TelaInicial\";\nimport Home from './components/Home'\n\nclass App extends Component{\n\n    state = {\n        response: ''\n    };\n\n    componentDidMount() {\n        this.callApi()\n            .then(res => this.setState({ response: res.express }))\n            .catch(err => console.log(err))\n    }\n\n    callApi = async () => {\n        const response = await fetch('/api/mensagem')\n        const body = await response.json()\n        if (response.status !== 200) throw Error(body.message)\n\n        return body\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            rota: 'TelaInicial',\n            token: ''\n        }\n        this.entrou = this.entrou.bind(this)\n        this.saiu = this.saiu.bind(this)\n        this.state.token = localStorage.getItem('token')\n    }\n\n    changeRota (val) {\n        this.setState({rota:val})\n    }\n\n    entrou (val) {\n        localStorage.setItem('token', val.token)\n        this.setState({usuario:val})\n        this.changeRota('Home')\n    }\n\n    saiu (val) {\n        this.setState({token:''})\n        localStorage.setItem('token', '')\n        this.changeRota('TelaInicial')\n    }\n\n    render() {\n        if (this.state.rota === 'Home' || this.state.token) {\n            return (\n                <Home onSair={(event) => this.saiu()}/>\n            );\n        } else if (this.state.rota === 'TelaInicial') {\n            return (\n                <TelaInicial onEntrou={(event) => this.entrou(event)}/>\n            );\n        }\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}